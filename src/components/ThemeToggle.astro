---

---

<button id="theme-toggle" aria-label="Toggle theme">
  <span class="icon">☀︎</span>
</button>

<style>
  button{
  width:32px;
  height:32px;
  border:none;
  border-radius:50%;
  background:rgba(255, 255, 255, 0.065);
  backdrop-filter:blur(4px);
  cursor:pointer;
  font-size:1rem;
  display:grid;
  place-items:center;
  box-shadow:0 4px 12px rgba(0,0,0,.15);
  transition:background .3s, transform .2s;
}
html.dark button{background:rgba(0, 0, 0, 0.041);}
button:hover{transform:scale(1.1)}

.icon{transition:transform .3s}
html.dark .icon{transform:rotate(180deg)}
</style>

<script>
  const btn  = document.getElementById('theme-toggle');
  const html = document.documentElement;

  // read saved preference or OS
  const saved = localStorage.getItem('theme');
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  const initial = saved ? saved : prefersDark ? 'dark' : 'light';
  html.classList.toggle('dark', initial === 'dark');
  updateIcon(initial);

  // click handler
  btn.addEventListener('click', () => {
    const isDark = html.classList.toggle('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
    updateIcon(isDark ? 'dark' : 'light');
  });

  function updateIcon(mode){
    btn.querySelector('.icon').textContent = mode === 'dark' ? '☾' : '☀︎';
  }
</script>